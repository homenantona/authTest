[{"/mnt/d/desktop/javascript/auth-test/src/index.js":"1","/mnt/d/desktop/javascript/auth-test/src/App.js":"2","/mnt/d/desktop/javascript/auth-test/src/components/Pointform.js":"3","/mnt/d/desktop/javascript/auth-test/src/base.js":"4","/mnt/d/desktop/javascript/auth-test/src/components/Distribute.js":"5","/mnt/d/desktop/javascript/auth-test/src/reportWebVitals.js":"6","/mnt/d/desktop/javascript/auth-test/src/auth/PrivateRoute.js":"7","/mnt/d/desktop/javascript/auth-test/src/auth/AuthProvider.js":"8","/mnt/d/desktop/javascript/auth-test/src/components/UserDataList.js":"9","/mnt/d/desktop/javascript/auth-test/src/auth/Login.js":"10","/mnt/d/desktop/javascript/auth-test/src/auth/SignUp.js":"11","/mnt/d/desktop/javascript/auth-test/src/components/Home.js":"12","/mnt/d/desktop/javascript/auth-test/src/components/User.js":"13","/mnt/d/desktop/javascript/auth-test/src/components/Admin.js":"14","/mnt/d/desktop/javascript/auth-test/src/components/header.js":"15","/mnt/d/desktop/javascript/auth-test/src/components/footer.js":"16"},{"size":500,"mtime":1606831235620,"results":"17","hashOfConfig":"18"},{"size":844,"mtime":1607005529991,"results":"19","hashOfConfig":"18"},{"size":4825,"mtime":1624369507824,"results":"20","hashOfConfig":"18"},{"size":573,"mtime":1630736776455,"results":"21","hashOfConfig":"18"},{"size":2276,"mtime":1630982218006,"results":"22","hashOfConfig":"18"},{"size":362,"mtime":1606831235662,"results":"23","hashOfConfig":"18"},{"size":440,"mtime":1606831235748,"results":"24","hashOfConfig":"18"},{"size":1221,"mtime":1606831235705,"results":"25","hashOfConfig":"18"},{"size":846,"mtime":1630737049797,"results":"26","hashOfConfig":"18"},{"size":1787,"mtime":1630981921931,"results":"27","hashOfConfig":"18"},{"size":905,"mtime":1630981925374,"results":"28","hashOfConfig":"18"},{"size":1198,"mtime":1630981960271,"results":"29","hashOfConfig":"18"},{"size":1589,"mtime":1630982221724,"results":"30","hashOfConfig":"18"},{"size":4892,"mtime":1630982219218,"results":"31","hashOfConfig":"18"},{"size":324,"mtime":1630981957850,"results":"32","hashOfConfig":"18"},{"size":205,"mtime":1630981955632,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1ow9lt5",{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/d/desktop/javascript/auth-test/src/index.js",[],["68","69"],"/mnt/d/desktop/javascript/auth-test/src/App.js",[],"/mnt/d/desktop/javascript/auth-test/src/components/Pointform.js",["70"],"import React, { useEffect, useState } from \"react\";\r\nimport { app, fireDB } from \"../base\";\r\nimport { UserGroupList02 } from \"./UserDataList\";\r\nimport { UserDataList } from \"./UserDataList\";\r\n\r\nconst Pointform = (props) => {\r\n    let index = 0\r\n    const [myPoint, setMyPoint] = useState(0)\r\n    const [userPoint, setUserPoint] = useState(0)\r\n    const [userUid, setUserUid] = useState('')\r\n    const [comment, setComment] = useState('')\r\n    const [passPoint, setPassPoint] = useState(0)\r\n    const [msg, setMsg] = useState('選択してください')\r\n\r\n    useEffect(() => {\r\n        fireDB.ref(props.selfUid).once(\"value\", function (obj) {\r\n            setMyPoint(obj.val().point)\r\n        })\r\n    });\r\n\r\n\r\n    const changeSelect = (e) => {\r\n        let newValue = e.target.value\r\n        setMsg('送信待機中')\r\n        setUserUid(newValue)\r\n        fireDB.ref(e.target.value).once(\"value\", function (obj) {\r\n            setUserPoint(obj.val().point)\r\n        })\r\n    }\r\n    const changeNumber = (e) => {\r\n        let newValue = Number(e.target.value)\r\n        setMsg('送信待機中')\r\n        setPassPoint(newValue)\r\n    }\r\n\r\n    const changeComment = (e) => {\r\n        let newValue = String(e.target.value)\r\n        setMsg('送信待機中')\r\n        console.log(newValue)\r\n        setComment(newValue)\r\n    }\r\n\r\n    const submitDB = (e) => {\r\n        e.preventDefault()\r\n        if (myPoint !== 0 && userUid !== '' && comment !== '' && Number(myPoint) >= Number(passPoint)) {\r\n            //時間取得\r\n            let d = new Date()\r\n            let f = d.getFullYear() + '-' + (d.getMonth() + 1)\r\n\r\n            //commentのindex数を数える\r\n            let firebase_node = fireDB.ref('/commentData/' + f);\r\n            firebase_node.once('value', parent => {\r\n                index = parent.numChildren()\r\n                let commentItem = 'commentItem' + (index + 1)\r\n                console.log(commentItem)\r\n\r\n                //自分のポイント（現在持っているポイント-渡すポイント ）\r\n                let selfPoint = Number(myPoint) - passPoint\r\n                //渡した相手のポイント（相手のポイント+渡すポイント）\r\n                let pushPoint = Number(userPoint) + passPoint\r\n\r\n                //DBの送り先をセット\r\n                let selfPointRef = fireDB.ref(props.selfUid)\r\n                let passPointRef = fireDB.ref(userUid)\r\n                let commentRef = fireDB.ref('/commentData/' + f + '/' + commentItem + '/')\r\n                try {\r\n                    selfPointRef.set({ point: selfPoint })\r\n                    passPointRef.set({ point: pushPoint })\r\n                    commentRef.set({\r\n                        'from': props.selfUid,\r\n                        'to': userUid,\r\n                        'point': passPoint,\r\n                        'value': comment\r\n                    })\r\n                    pushPoint = 0\r\n                    selfPoint = 0\r\n                    // setMyPoint(selfPoint)\r\n                    setMsg('送信完了')\r\n                    setTimeout(() => {\r\n                        window.location.reload()\r\n                    }, 500)\r\n\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        } else {\r\n            console.log(`userPoint${userPoint} myPoint${myPoint} passPoint${passPoint}`);\r\n            window.alert('選択されていないかor渡すポイントが足りません')\r\n        }\r\n    }\r\n\r\n    const userList = () => {\r\n        const userData = UserDataList.slice()\r\n        //ログイン中の配列番号を取得\r\n        const delTargetUid = userData.findIndex(({ uid }) => uid === props.selfUid)\r\n        //配列番号を削除\r\n        userData.splice(delTargetUid, 1)\r\n        //営業だけリストから削除\r\n        const newUserList = userData.filter((val) => {\r\n            return !UserGroupList02.includes(val)\r\n        })\r\n\r\n        let userItems = newUserList.map((user, index) => (\r\n            <option key={index} value={user.uid}>{user.name}</option>\r\n        ))\r\n        return userItems\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={submitDB} className=\"pointForm\">\r\n                <select onChange={changeSelect}>\r\n                    <option value='-' style={{ display: 'none' }}>送りたい相手を選択</option>\r\n                    {userList()}\r\n                </select>\r\n                <input type=\"number\" min='1' onChange={changeNumber} placeholder=\"送るpcを記入\" />\r\n                <textarea cols=\"30\" rows=\"10\" value={comment} onChange={changeComment} placeholder=\"コメントを残す\"></textarea>\r\n                <input type=\"submit\" />\r\n            </form>\r\n            <p>{msg}</p>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Pointform;","/mnt/d/desktop/javascript/auth-test/src/base.js",[],"/mnt/d/desktop/javascript/auth-test/src/components/Distribute.js",["71","72","73"],"/mnt/d/desktop/javascript/auth-test/src/reportWebVitals.js",[],"/mnt/d/desktop/javascript/auth-test/src/auth/PrivateRoute.js",[],"/mnt/d/desktop/javascript/auth-test/src/auth/AuthProvider.js",[],"/mnt/d/desktop/javascript/auth-test/src/components/UserDataList.js",[],"/mnt/d/desktop/javascript/auth-test/src/auth/Login.js",[],"/mnt/d/desktop/javascript/auth-test/src/auth/SignUp.js",[],"/mnt/d/desktop/javascript/auth-test/src/components/Home.js",["74","75"],"/mnt/d/desktop/javascript/auth-test/src/components/User.js",["76"],"/mnt/d/desktop/javascript/auth-test/src/components/Admin.js",["77","78"],"/mnt/d/desktop/javascript/auth-test/src/components/header.js",[],"/mnt/d/desktop/javascript/auth-test/src/components/footer.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":2,"column":10,"nodeType":"85","messageId":"86","endLine":2,"endColumn":13},{"ruleId":"83","severity":1,"message":"87","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":26},{"ruleId":"83","severity":1,"message":"84","line":2,"column":10,"nodeType":"85","messageId":"86","endLine":2,"endColumn":13},{"ruleId":"83","severity":1,"message":"88","line":7,"column":22,"nodeType":"85","messageId":"86","endLine":7,"endColumn":33},{"ruleId":"83","severity":1,"message":"89","line":1,"column":28,"nodeType":"85","messageId":"86","endLine":1,"endColumn":36},{"ruleId":"83","severity":1,"message":"90","line":2,"column":15,"nodeType":"85","messageId":"86","endLine":2,"endColumn":21},{"ruleId":"91","severity":1,"message":"92","line":31,"column":6,"nodeType":"93","endLine":31,"endColumn":8,"suggestions":"94"},{"ruleId":"95","severity":1,"message":"96","line":47,"column":49,"nodeType":"97","messageId":"98","endLine":47,"endColumn":51},{"ruleId":"91","severity":1,"message":"99","line":75,"column":6,"nodeType":"93","endLine":75,"endColumn":8,"suggestions":"100"},"no-native-reassign",["101"],"no-negated-in-lhs",["102"],"no-unused-vars","'app' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'setUserData' is assigned a value but never used.","'useState' is defined but never used.","'fireDB' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getDbPoint' and 'userData.point'. Either include them or remove the dependency array.","ArrayExpression",["103"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'tmpUsersData' and 'userData.uid'. Either include them or remove the dependency array.",["104"],"no-global-assign","no-unsafe-negation",{"desc":"105","fix":"106"},{"desc":"107","fix":"108"},"Update the dependencies array to be: [getDbPoint, userData.point]",{"range":"109","text":"110"},"Update the dependencies array to be: [tmpUsersData, userData.uid]",{"range":"111","text":"112"},[774,776],"[getDbPoint, userData.point]",[2135,2137],"[tmpUsersData, userData.uid]"]